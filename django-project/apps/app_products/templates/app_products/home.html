{% extends "base.html" %}
{% load static %}
{% load widget_tweaks %}
{% load humanize %}


{% block main-content %}
<div style="margin-top: 150px;">
    <header class="w3-container header-img w3-center w3-padding-64">
        <h1 class="w3-xxxlarge w3-animate-opacity"><b>Our Products</b></h1>
        <p class="w3-xlarge w3-animate-opacity">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eum quisquam at, nam molestiae est eligendi.</p>
    </header>
    <!-- Product Grid -->
    <div class="w3-container w3-padding-64 w3-light-grey">
      <!-- Product Grid -->
      <div class="w3-container w3-padding-64">
        <div class="w3-row-padding w3-content" style="max-width:1200px">

          <!-- Repeat this block for each product -->
          {% for product in all_products %}
            <div class="w3-third w3-margin-bottom">
              <div class="w3-card-4 w3-white w3-hover-shadow w3-round-large">
                {% if product.product_image %}
                  <a href="{% url 'app_products:product_details' product.product_id %}">
                    <img src="{{ product.product_image.url }}" alt="{{ product.product_name }}" style="width:100%; height: 300px; object-fit: cover;">
                  </a>
                {% else %}
                  <img src="{% static 'app_products/images/logo/logo.png' %}" alt="No image available" style="width:100%; height: 200px; object-fit: cover;">
                {% endif %}
                <div class="w3-container w3-padding">
                  <h3>{{ product.product_name }}</h3>
                  <p class="w3-text-pink" style="text-align: right;">{{product.product_pricing| intcomma}} Kip</p>
                  <hr class="w3-border-blue">
                  <p style="text-align: center;">{{ product.product_description|truncatewords:120 }}</p>
                </div>
              </div>
            </div>
          {% endfor %}


    </div>
  </div>
</div>
{% endblock %}